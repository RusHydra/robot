# Задачи

## Добавить товар в корзину
UC-4

Основной сценарий

| Действие | Описание действия                                                        | Результат                                                                                                     |
| -------- | ------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------- |
| 1        | Открыть форму просмотра раздела меню, WF2                                | Пользователь видит список товаров в разделе меню                                                              |
| 2        | Выбрать доступный для заказа товар и добавить товар в корзину            | 1\. Товар добавлен в корзину<br>2\. Количество товаров в корзине увеличилось                                  |
| 3        | Выполнить переход в корзину                                              | Открывается форма просмотра корзины, WF3                                                                      |
| 4        | Убедится в том, что товар, добавленный на шаге 2, отображается в корзине | 1\. Товар отображается в корзине<br>2\. Сумма заказа увеличилась на величину, равную цене добавленного товара |

Негативный сценарий

| Действие | Описание действия                         | Результат                                                     |
| -------- | ----------------------------------------- | ------------------------------------------------------------- |
| 1        | Открыть форму просмотра раздела меню, WF2 | Пользователь видит список товаров в разделе меню              |
| 2        | Выбрать товар с пометкой Не доступен      | Система информирует пользователя о недоступности позиции WF4  |
| 3        | Вернуться в на страницу выбора товаров    | Пользователь на странице выбора товаров                       |


## Оформить заказа
UC-1

Основной сценарий

| Действие | Описание действия                                     | Результат                                                                                                                                                                                                                                                                         |
| -------- | ----------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1        | В форме Корзины WF3 инициировать оформление заказа    | 1\. Система запускает проверку выбора способа получения заказа<br>2\. Если способ получения заказа не выбран, система предлагает пользователю выбрать как он хочет получить заказ                                                                                                 |
| 2        | Пользователь выбирает способ получения заказа         | Система показывает выбранный способ получения заказа                                                                                                                                                                                                                              |
| 3        | Пользователь начинает оформление заказа               | Система предлагает войти в систему лояльности                                                                                                                                                                                                                                     |
| 4        | Пользователь вводит логин и пароль системы лояльности | Система отображает введенный логин и пароль                                                                                                                                                                                                                                       |
| 5        | Пользователь подтверждает ввод логина и пароля        | 1\. Система выполняет проверку введённых данных<br>2\. В случае, если пользователь с указанными логином и паролем найдены, система выполняет аутентификацию<br>3\. Система сообщает пользователю, что он вошёл в систему лояльности<br>4\. Система запускает сценарий оплаты UC-6 |

Негативный сценарий

| Действие | Описание действия                                             | Результат                                                                                                                        |
| -------- | ------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| 1        | В форме Корзины WF3 выбрать способ получения заказа           | Система отображает выбранный способ получения заказа                                                                             |
| 2        | В форме Корзины WF3 инициировать оформление заказа            | Система предлагает войти в систему лояльности                                                                                    |
| 3        | Ввести логин и пароль не существующего в системе пользователя | Система сообщает о том, что пользователь с таким логином не найден                                                               |
| 4        | Повторить шаг 3 три раза                                      | 1\. Система сообщает что количество попыток входа в систему лояльности истекло<br>2\. Система запускает сценарий оплаты UC-6<br> |

## Регистрация в системе лояльности
UC-2

Основной сценарий

| Действие | Описание действия                                                                                                                                                                                          | Результат                                                                                                                                                                                                                                     |
| -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1        | В форме регистрации в системе лояльности WF5 заполнить поля регистрационной формы:<br>\- Имя<br>\- Номер телефона<br>\- Пароль<br>\- Подтверждение пароля<br>Отметить чекбокс согласия на обработку данных | Система отображает введенные пользователем данные                                                                                                                                                                                             |
| 2        | Запустить процедуру регистрации                                                                                                                                                                            | 1\. Система выполняет проверку логина (номера телефона) на совпадение с зарегистрированными пользователями<br>2\. Система аутентифицирует пользователя<br>3\. Система отображает форму успешной регистрации WF6 и баланс приветственных баллов |

Негативный сценарий

| Действие | Описание действия                                                                                                                                         | Результат                                                           |
| -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------- |
| 1        | Система выполняет проверку логина (номера телефона) на совпадение с зарегистрированными пользователями                                                    | Пользователь с таким номером телефона уже зарегистрирован в системе |
| 2        | Система выводит сообщение о том, что пользователь с таким номером телефона уже зарегистрирован. Система предлагает выполнить вход или восстановить пароль |                                                                     |

## Произвести оплату
UC-6

Основной сценарий

| Действие | Описание действия                                         | Результат                                                                                                                                                                                 |
| -------- | --------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1        | Добавить в корзину одну позицию, WF2                      | В корзине одна позиция товара                                                                                                                                                             |
| 2        | Выполнить регистрацию в системе лояльности, WF5           | Пользователь зарегистрирован и аутентифицирован в системе лояльности                                                                                                                      |
| 3        | Убедится, что баланс баллов лояльности положительный, WF6 | Пользователю начислены приветсвенные 100 баллов за регистрацию в системе лояльности                                                                                                       |
| 4        | Находясь в корзине WF3, выбрать способ получения заказа   | Пользователь выбрал способ получения заказа                                                                                                                                               |
| 5        | Находясь в корзине WF3, оформить заказ                    | Пользователь инициировал оформление заказа                                                                                                                                                |
| 6        | В форме Оплаты WF8 выбрать списать баллы                  | 1\. Указанное количество баллов списано<br>2\. Доступное количество баллов для списания уменьшено на величину списанных баллов<br>3\. Сумма заказа уменьшена на величину списанных баллов |
| 7        | Выбрать оплату по карте                                   | Пользователь перенаправлен на платёжный шлюз для указания платёжных реквизитов                                                                                                            |
| 8        | Оплата подтверждена                                       | 1\. Пользователь видит номер талона для получения заказа<br>2\. Заказ отправлен на производство                                                                                           |

Негативный сценарий

| Действие | Описание действия                                     | Результат                                                                                                |
| -------- | ----------------------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| 1        | Пользователь не аутентифицирован в системе лояльности | В форме Оплаты WF8 доступно только два способа оплаты: по карте и через СБП. Списание баллов не доступно |

## Оплата через СБП в мобильном приложении
UC-7

Основной сценарий

| Действие | Описание действия                                                                | Результат                                                                                                                                                                                                         |
| -------- | -------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1        | Система предлагает пользователю оплатить через СБП и отображает сумму для оплаты | Пользователь видит на экране сумму оплаты                                                                                                                                                                         |
| 2        | Пользователь запускает оплату через СБП                                          | 1\. Система отображает пользователю список банков<br>2\. Система предлагает пользователю выбрать банк для подтверждения оплаты                                                                                    |
| 3        | Система пренаправляет запрос в выбранный пользователем банк                      | 1\. Система открывает веб страницу банка, выбранного пользователем<br>2\. Действия по проведению оплаты выполняются во внешней системе<br>3\. По завершению операции оплаты веб форма внешней системы закрывается |
| 4        | Система сообщает пользователю о успешно проведённой оплате                       | Пользователь видит на экране номер заказа и приглашение получить заказ в зоне выдачи                                                                                                                              |

Негативный сценарий

| Действие | Описание действия                      | Результат                                                                                                                              |
| -------- | -------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| 1        | Пользователь прервал выполнение оплаты | 1\. Система сообщает пользователю о том что оплата не была проведена<br>2\. Система открывает пользователю форму выбора способа оплаты |